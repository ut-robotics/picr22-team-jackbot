Documentation for mainboard and motor drivers

_** MAINBOARD **_

_**1) Voltage regulator 5V(USB)->3.3V**_

VR1 is a 5 Volt -> 3.3 Volt voltage regulator NCP164CSN330T1G. So as VR2, it converts voltages; however, VR1 charges all other components that need lower voltage.

C19 and C20 are capacitors connected to the VR1 from the power side and from the output side aligning 5V that goes in and then 3.3V that goes out.

[%hardbreaks]
_**2) USB**_

U1 - 10118193-0001LF and U2 - CM1223-02SO are two parts of the USB connection to the PCB.

U1 is the connecting port for the USB it is needed for powering the microcontroller and for communication with the robot computer.

U2 is a USB protection. it is a diode array that provides ESD protection for electronic components or subsystems requiring minimal capacitive loading.

[%hardbreaks]
_**3) Motor encoders**_

J1, J2, J3, and J4 are motor encoders 215079-4. J1-J3 are for wheels, and J4 is for the thrower motor. They are needed to provide closed-loop feedback signals by tracking the speed and position of a motor shaft.

[%hardbreaks]
_**4) Microcontroller**_

MC1 is a microcontroller STM32G441KBT6. It is the brain of the whole system. C21, C24, C29, C30, and C33 are capacitors that are connected to the microcontroller. They align the inputted 3.3V into the controller. LED1 is a LED connected to the controller. Its function is to see the state of the microcontroller just fast looking at the PCB.

[%hardbreaks]
_**5) Programming input**_

CN1 is a Programmer connector FTSH-105-01-L-DV-K-TR. It is used to communicate with MC1 microcontroller and load the firmware code onto the board.

[%hardbreaks]
_**1) Motor drivers**_

M1, M2 and M3 are motor drivers for wheels PDRV8243HRXYQ1. They act like an interface between the motors and the control circuits. Since motors require a high amount of current and the controller circuit works on low-current signals, motor drivers take a low-current control signal and turn it into a higher-current signal that can drive motors.

C1-C18 are the capacitors connected to the motor drivers (they should align the current from the 16 Volts of battery).

[%hardbreaks]
_**2) Battery input**_

Two pads (+ and - of the battery) are connected to the VP1, reverse voltage protection BUK6Y10-30P. It is needed to prevent damage to power supplies and electronic circuits in the event of a reverse voltage applied at the input or output terminals.

[%hardbreaks]
_**3) Voltage regulator 16V->5V**_

VR2 is a 16 Volt -> 5 Volt voltage regulator NCV8730ASN500T1G. Its work is obvious - converting the 16 Volt from battery to 5 Volt which is needed for isolators.
C22 and C23 are capacitors connected to the VR2 from the power side and from the output side aligning 16V that goes in and then 5V that goes out.


[%hardbreaks]
_**4) Isolators**_

I1 and I2 are isolators MAX14930DASE+. They separate two sides of the PCB (the 16 Volt one and the 3.3 Volt (logic) one), isolating them. It is a good idea to isolate two sides of the PCB as isolation blocks the dangerous transmission of high voltages between circuits which can drive electric shock to components.

C25, C26, C27 and C28 are capacitors connected to the isolator power pins aligning the input voltage.

[%hardbreaks]
_**5) Connector pinouts**_

Connector pinouts or in other words pads are for powering the motors. Each of the motors will have ground and voltage pads, in conclusion 6 pads, 2 for each motor. These pads are connected to the motor drivers to give exact instrcutions, when or what should be supplied with voltage. On the pads there will be soldered wires for connecting with bullet connections.

_**6) Microcontroller pinout **_

Pinout of microcontroller in picture:

image::MC_pinout.JPG[]

1 - VDD - power supply +
2 - PF0-OSC_in - LED output +
3 - PF1-OSC_OUT - none +
4 - PG10-NRST - NRST input +
5 - PA0 - Motor2 to PWM1 +
6 - PA1 - Motor2 to PWM2 +
7 - PA2 - Motor1 to PWM1 +
8 - PA3 - Motor1 to PWM2 +
9 - PA4 - Thrower to PWM +
10 - PA5 - none +
11 - PA6 - Motor3 to PWM1 +
12 - PA7 - Motor3 to PWM2 +
13 - PB0 - none +
14 - VSSA - ground connection +
15 - VDDA - power supply +
16 - VSS - ground connection + 
17 - VDD - power supply +
18 - PA8 - Motor1 encoder1 +
19 - PA9 - Motor1 encoder2 +
20 - PA10 - none +
21 - PA11 - USB_DM + 
22 - PA12 - USB_DP +
23 - PA13 - SYS_JTMS-SWDIO +
24 - PA14 - SYS-JTCK-SWCLK +
25 - PA15 - Motor3 encoder1 +
26 - PB3 - none +
27 - PB4 - none +
28 - PB5 - NSLEEP output + 
29 - PB6 - Motor2 encoder1 + 
30 - PB7 - Motor2 encoder2 +
31 - PB8-BOOT0 - Motor3 encoder2 + 
32 - VSS - ground connection +
